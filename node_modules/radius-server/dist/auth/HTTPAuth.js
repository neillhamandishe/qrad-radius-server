import fetch from 'node-fetch';
export class HTTPAuth {
    constructor(config, logger) {
        this.url = config.url;
        this.logger = logger.context('HTTPAuth');
    }
    async authenticate(username, password) {
        const result = await fetch(this.url, {
            method: 'post',
            body: JSON.stringify({
                username,
                password,
            }),
            headers: { 'Content-Type': 'application/json' },
        });
        if (result.status === 200) {
            return true;
        }
        this.logger.log(`HTTP authentication failed, response code: ${result.status}`);
        return false;
    }
}
//# sourceMappingURL=HTTPAuth.js.map